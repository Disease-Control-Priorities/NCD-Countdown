scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.1,1))+
labs(fill="Number of countries to reach 40q30 target")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Global excess NCD deaths (millions) and the \nnumber of countries achieving a one-third reduction in 40q30 \nby each covid and intervention scale-up scenario")
ggplot(plot2%>%filter(location=="Brazil"), aes(x=s_covid, y=s_inc, fill=prog))+
geom_tile()+
geom_text(aes(label=signif(ncd.deaths, digits=3)))+
scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.5,1))+
labs(fill="Progress towards 1/3 reduction in 40q30 (%)")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Total NCD deaths (millions) and progress towards 40q30 goal by scenario")
ggplot(plot2%>%filter(location=="Brazil"), aes(x=s_covid, y=s_inc, fill=prog))+
geom_tile()+
geom_text(aes(label=signif(ncd.deaths, digits=3)))+
scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.5,1))+
labs(fill="Progress towards 1/3 reduction in 40q30 (%)")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Total NCD deaths (millions) and progress towards 40q30 goal (%) \n by each covid and intervention scale-up scenario")
ggplot(plot2%>%filter(location=="Brazil"), aes(x=s_covid, y=s_inc, fill=prog))+
geom_tile()+
geom_text(aes(label=signif(ncd.deaths, digits=3)))+
scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.5,1))+
labs(fill="Progress towards 1/3 reduction in 40q30 (%)")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Total NCD deaths (millions) and progress towards 40q30 goal (%) \n by each covid and intervention scale-up scenario\n2015-2030")
ggplot(plot2%>%filter(location=="Brazil"), aes(x=s_covid, y=s_inc, fill=prog))+
geom_tile()+
geom_text(aes(label=signif(ncd.deaths, digits=3)))+
scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.5,1))+
labs(fill="Progress towards 1/3 reduction in 40q30 (%)")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Total NCD deaths (millions) and progress towards 40q30 goal (%) \n by each covid and intervention scale-up scenario\n\n2015-2030")
ggplot(plot2%>%filter(location=="Brazil"), aes(x=s_covid, y=s_inc, fill=prog))+
geom_tile()+
geom_text(aes(label=signif(ncd.deaths, digits=3)))+
scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.5,1))+
labs(fill="Progress towards 1/3 reduction in 40q30 (%)")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Total NCD deaths (millions) and progress towards 40q30 goal (%) \n by each covid and intervention scale-up scenario\n\nBrazil, 2015-2030")
ggplot(plot2%>%filter(location=="Brazil"), aes(x=s_covid, y=s_inc, fill=ncd.deaths))+
geom_tile()+
geom_text(aes(label=signif(prog, digits=3)))+
scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.5,1))+
labs(fill="Total number of NCD deaths (millions)")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Total NCD deaths (millions) and progress towards 40q30 goal (%) \nby each covid and intervention scale-up scenario \n\nBrazil, 2015-2030")
ggplot(plot2%>%filter(location=="China"), aes(x=s_covid, y=s_inc, fill=ncd.deaths))+
geom_tile()+
geom_text(aes(label=signif(prog, digits=3)))+
scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.5,1))+
labs(fill="Total number of NCD deaths (millions)")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Total NCD deaths (millions) and progress towards 40q30 goal (%) \nby each covid and intervention scale-up scenario \n\nChina, 2015-2030")
ggplot(plot2%>%filter(location=="China"), aes(x=s_covid, y=s_inc, fill=ncd.deaths))+
geom_tile()+
geom_text(aes(label=paste0(signif(prog, digits=3),"%")))+
scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.5,1))+
labs(fill="Total number of NCD deaths (millions)")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Total NCD deaths (millions) and progress towards 40q30 goal (%) \nby each covid and intervention scale-up scenario \n\nChina, 2015-2030")
ggplot(plot2%>%filter(location=="China"), aes(x=s_covid, y=s_inc, fill=ncd.deaths))+
geom_tile()+
geom_text(aes(label=paste0(signif(prog, digits=2),"%")))+
scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.5,1))+
labs(fill="Total number of NCD deaths (millions)")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Total NCD deaths (millions) and progress towards 40q30 goal (%) \nby each covid and intervention scale-up scenario \n\nChina, 2015-2030")
ggplot(plot2%>%filter(location=="Brazil"), aes(x=s_covid, y=s_inc, fill=ncd.deaths))+
geom_tile()+
geom_text(aes(label=signif(prog, digits=2),"%")))+
ggplot(plot2%>%filter(location=="Brazil"), aes(x=s_covid, y=s_inc, fill=ncd.deaths))+
geom_tile()+
geom_text(aes(label=paste0(signif(prog, digits=2),"%")))+
scale_fill_gradientn(colors=c("#3c1f5c","#33628e", "#2d7b8d","#20a386", "#fde725"), values=c(0,0.5,1))+
labs(fill="Total number of NCD deaths (millions)")+
ylab("Annual absolute increase in coverage (%)")+
xlab("Covid adjustment factor")+
ggtitle("Total NCD deaths (millions) and progress towards 40q30 goal (%) \nby each covid and intervention scale-up scenario \n\nBrazil, 2015-2030")
View(all.q30.out)
View(goal.q30.out)
best<-all.q30.out%>%filter(s_covid==0, s_inc==0.05)
best<-all.q30.out%>%filter(s_covid==0 && s_inc==0.05)
View(best)
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05)
View(best)
View(summary)
worst<-all.q30.out%>%filter(s_covid==2 & s_inc==0)
View(worst)
unique(all.q30.out$s_covid)
unique(all.q30.out$s_inc)
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05)
middle<-all.q30.out%>%filter(s_covid==1 & s_inc==0.03)
worst<-all.q30.out%>%filter(s_covid==2 & s_inc==0)
base<-all.q30.out%>%filter(s_covid==0 & s_inc==0)%>%mutate(scenario=="Baseline")
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05)%>%mutate(scenario=="Most optimistic")
base<-all.q30.out%>%filter(s_covid==0 & s_inc==0)%>%mutate(scenario="Baseline")
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05)%>%mutate(scenario="Most optimistic")
middle<-all.q30.out%>%filter(s_covid==1 & s_inc==0.03)%>%mutate(scenario="Predicted")
worst<-all.q30.out%>%filter(s_covid==2 & s_inc==0)%>%mutate(scenario="Most pessimistic")
base<-all.q30.out%>%filter(s_covid==0 & s_inc==0)%>%mutate(scenario="Baseline")%>%
select(Adjusted, year_id, location_name, scenario)
View(base)
base<-all.q30.out%>%filter(s_covid==0 & s_inc==0)%>%mutate(scenario="Baseline")%>%
select(Adjusted, year_id, location_name, scenario)
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05)%>%mutate(scenario="Most optimistic")%>%
select(Adjusted, year_id, location_name, scenario)
middle<-all.q30.out%>%filter(s_covid==1 & s_inc==0.03)%>%mutate(scenario="Predicted")%>%
select(Adjusted, year_id, location_name, scenario)
worst<-all.q30.out%>%filter(s_covid==2 & s_inc==0)%>%mutate(scenario="Most pessimistic")%>%
select(Adjusted, year_id, location_name, scenario)
plot3<-full_join(base, best)
plot3<-full_join(plot3,middle)
plot3<-bind_rows(base, best, middle, worst)
View(plot3)
ggplot(plot3, aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05 & year_id>2020)%>%mutate(scenario="Most optimistic")%>%
select(Adjusted, year_id, location_name, scenario)
middle<-all.q30.out%>%filter(s_covid==1 & s_inc==0.03 & year_id>2020)%>%mutate(scenario="Predicted")%>%
select(Adjusted, year_id, location_name, scenario)
worst<-all.q30.out%>%filter(s_covid==2 & s_inc==0 & year_id>2020)%>%mutate(scenario="Most pessimistic")%>%
select(Adjusted, year_id, location_name, scenario)
plot3<-bind_rows(base, best, middle, worst)
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs("Scenario")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
plot3$scenario<-factor(plot3$scenario, levels=c("Baseline", "Most pessimistic", "Predicted", "Most optimistic"))
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
global<-plot3%>%group_by(scenario)%>%summarise(q30=mean(Adjusted))
View(global)
global<-plot3%>%group_by(scenario,year_id)%>%summarise(q30=mean(Adjusted))
ggplot(global, aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
ggplot(global, aes(x=year_id, y=q30, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
ggplot(global, aes(x=year_id, y=q30, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Global (crude mean)")+
labs(color="Scenario")
base<-all.q30.out%>%filter(s_covid==0 & s_inc==0)%>%mutate(scenario="Baseline")%>%
select(Adjusted, year_id, location_name, scenario)
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05 & year_id>=2020)%>%mutate(scenario="Most optimistic")%>%
select(Adjusted, year_id, location_name, scenario)
middle<-all.q30.out%>%filter(s_covid==1 & s_inc==0.03 & year_id>=2020)%>%mutate(scenario="Predicted")%>%
select(Adjusted, year_id, location_name, scenario)
worst<-all.q30.out%>%filter(s_covid==2 & s_inc==0 & year_id>=2020)%>%mutate(scenario="Most pessimistic")%>%
select(Adjusted, year_id, location_name, scenario)
plot3<-bind_rows(base, best, middle, worst)
plot3$scenario<-factor(plot3$scenario, levels=c("Baseline", "Most pessimistic", "Predicted", "Most optimistic"))
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
global<-plot3%>%group_by(scenario,year_id)%>%summarise(q30=mean(Adjusted))
ggplot(global, aes(x=year_id, y=q30, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Global (crude mean)")+
labs(color="Scenario")
base<-all.q30.out%>%filter(s_covid==0 & s_inc==0 & year_id<2020)%>%mutate(scenario="Baseline")%>%
select(Adjusted, year_id, location_name, scenario)
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05 & year_id>=2020)%>%mutate(scenario="Most optimistic")%>%
select(Adjusted, year_id, location_name, scenario)
middle<-all.q30.out%>%filter(s_covid==1 & s_inc==0.03 & year_id>=2020)%>%mutate(scenario="Predicted")%>%
select(Adjusted, year_id, location_name, scenario)
plot3<-bind_rows(base, best, middle, worst)
plot3$scenario<-factor(plot3$scenario, levels=c("Baseline", "Most pessimistic", "Predicted", "Most optimistic"))
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
global<-plot3%>%group_by(scenario,year_id)%>%summarise(q30=mean(Adjusted))
ggplot(global, aes(x=year_id, y=q30, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Global (crude mean)")+
labs(color="Scenario")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_line()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
base<-all.q30.out%>%filter(s_covid==0 & s_inc==0 & year_id<2020)%>%mutate(scenario="Baseline")%>%
select(Adjusted, year_id, location_name, scenario)
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05 & year_id>=2019)%>%mutate(scenario="Most optimistic")%>%
select(Adjusted, year_id, location_name, scenario)
middle<-all.q30.out%>%filter(s_covid==1 & s_inc==0.03 & year_id>=2019)%>%mutate(scenario="Predicted")%>%
select(Adjusted, year_id, location_name, scenario)
worst<-all.q30.out%>%filter(s_covid==2 & s_inc==0 & year_id>=2019)%>%mutate(scenario="Most pessimistic")%>%
select(Adjusted, year_id, location_name, scenario)
plot3<-bind_rows(base, best, middle, worst)
plot3$scenario<-factor(plot3$scenario, levels=c("Baseline", "Most pessimistic", "Predicted", "Most optimistic"))
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_line()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_smooth()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_smooth(se=F)+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
base<-all.q30.out%>%filter(s_covid==0 & s_inc==0 & year_id<2020)%>%mutate(scenario="Baseline")%>%
select(Adjusted, year_id, location_name, scenario)
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05)%>%mutate(scenario="Most optimistic")%>%
select(Adjusted, year_id, location_name, scenario)
middle<-all.q30.out%>%filter(s_covid==1 & s_inc==0.03)%>%mutate(scenario="Predicted")%>%
select(Adjusted, year_id, location_name, scenario)
worst<-all.q30.out%>%filter(s_covid==2 & s_inc==0)%>%mutate(scenario="Most pessimistic")%>%
select(Adjusted, year_id, location_name, scenario)
plot3<-bind_rows(base, best, middle, worst)
plot3$scenario<-factor(plot3$scenario, levels=c("Baseline", "Most pessimistic", "Predicted", "Most optimistic"))
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_smooth(se=F)+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()+
#geom_smooth(se=F)+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
base<-all.q30.out%>%filter(s_covid==0 & s_inc==0)%>%mutate(scenario="Baseline")%>%
select(Adjusted, year_id, location_name, scenario)
best<-all.q30.out%>%filter(s_covid==0 & s_inc==0.05 & year_id>=2019)%>%mutate(scenario="Most optimistic")%>%
select(Adjusted, year_id, location_name, scenario)
middle<-all.q30.out%>%filter(s_covid==1 & s_inc==0.03 & year_id>=2019)%>%mutate(scenario="Predicted")%>%
select(Adjusted, year_id, location_name, scenario)
worst<-all.q30.out%>%filter(s_covid==2 & s_inc==0 & year_id>=2019)%>%mutate(scenario="Most pessimistic")%>%
select(Adjusted, year_id, location_name, scenario)
plot3<-bind_rows(base, best, middle, worst)
plot3$scenario<-factor(plot3$scenario, levels=c("Baseline", "Most pessimistic", "Predicted", "Most optimistic"))
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_smooth(se=F)+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_smooth(se=F, span=1)+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_smooth(se=F, span=0.1)+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_smooth(se=F, span=0.0)+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
ggplot(plot3%>%filter(location_name=="Brazil"), aes(x=year_id, y=Adjusted, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Brazil")+
labs(color="Scenario")
global<-plot3%>%group_by(scenario,year_id)%>%summarise(q30=mean(Adjusted))
ggplot(global, aes(x=year_id, y=q30, color=scenario))+
geom_point()+
ylab("40q30 (%)")+
xlab("Year")+
ggtitle("40q30 over time, Global (crude mean)")+
labs(color="Scenario")
cost<-read.csv("Outputs/All_ICER_2030.csv", stringsAsFactors = F)%>%select(c(increment, Code, Country, NCD_region, Revised.Intervention.Name))%>%rename(Description = Revised.Intervention.Name)
load("Outputs/icer_rank_output.Rda")
codes<-unique(read_excel("Input_Data/EfficacyData6.xlsx")%>%select(c(Description, NCD)))
codes$NCDcode<-paste0("C", codes$NCD)
codes$NCDcode[codes$Description=="Management of depression disorders with psycological and generic antidepressant therapy"]<-"C2.10"
tot_dalys<-all.dalys%>%rename(Country = location_name)%>%group_by(Country, Code)%>%
summarise(DALY=sum(DALY.ave))%>%rename(NCDcode = Code)
#just the end change in 2030?
tot_40q30<-all.q30%>%filter(year_id==2030)%>%rename(Country = location_name)%>%
select(c(Country, Code, q30.ave))%>%rename(NCDcode = Code)
benefits<-full_join(tot_dalys, tot_40q30, by=c("Country", "NCDcode"))
benefits<-left_join(benefits, codes, by="NCDcode")
plot<-na.omit(left_join(cost, benefits, by=c("Description", "Country")))%>%mutate(ICER1 = increment/DALY, ICER2=increment/q30.ave)
plot$platform<-str_extract(plot$Code, "[A-Z]+")
global<-plot%>%group_by(Description, platform)%>%summarise(ICER1=mean(ICER1), ICER2=mean(ICER2))
ggplot(global, aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
#geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)
View(all.dalys)
View(all.q30)
View(codes)
View(cost)
ggplot(global, aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
#geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental cost per change in 40q30")
ggplot(global, aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
#geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")
ggplot(global, aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
#geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
global$platform<-factor(global$platform, levels=c("HC", "FLH", "RH"), labels=c("Health Centre, First-level hospital", "Refereal hospital"))
global$platform<-factor(global$platform, levels=c("HC", "FLH", "RH"), labels=c("Health Centre", "First-level hospital", "Refereal hospital"))
ggplot(global, aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
#geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
global<-plot%>%group_by(Description, platform)%>%summarise(ICER1=mean(ICER1), ICER2=mean(ICER2))
ggplot(global, aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
#geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
global$platform<-factor(global$platform, levels=c("HC", "FLH", "RH"), labels=c("Health Centre", "First-level hospital", "Refereal hospital"))
ggplot(global, aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
#geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global, aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global, aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
#geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global, aes(x=ICER1, y=ICER2, color=platform, shape=Description))+
geom_point()+
#geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global, aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
#geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(aes(label=Description), hjust=0, vjust=0)+
facet_zoom(x = ICER1 >= 0 & ICER1 <= 250)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(aes(label=Description), hjust=0, vjust=0)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=8, aes(label=Description), hjust=0, vjust=0)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=1, aes(label=Description), hjust=0, vjust=0)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=2, aes(label=Description), hjust=0, vjust=0)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=2, aes(label=Description), hjust=0, vjust=1)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=2, aes(label=Description), hjust=0, vjust=-1)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=2, aes(label=Description), position = position_dodge(width=0.9))+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=4, aes(label=Description), position = position_dodge(width=0.9))+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=3, aes(label=Description), position = position_dodge(width=0.9))+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=3, aes(label=Description), position = position_dodge(width=0.9), hjust=0)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=3, aes(label=Description), position = position_dodge(width=0.9), hjust=0, vjust=-1)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=3, aes(label=Description), position = position_dodge(width=0.9), hjust=0, vjust=1)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=3, aes(label=stringr::str_wrap(Description,10)), position = position_dodge(width=0.9), hjust=0, vjust=1)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=3, aes(label=stringr::str_wrap(Description,20)), position = position_dodge(width=0.9), hjust=0, vjust=1)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=3, aes(label=stringr::str_wrap(Description,50)), position = position_dodge(width=0.9), hjust=0, vjust=1)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=3, aes(label=stringr::str_wrap(Description,100)), position = position_dodge(width=0.9), hjust=0, vjust=1)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
ggplot(global%>%filter(ICER1>1000), aes(x=ICER1, y=ICER2, color=platform))+
geom_point()+
geom_text(size=3, aes(label=stringr::str_wrap(Description,70)), position = position_dodge(width=0.9), hjust=0, vjust=1)+
ggtitle("Incremental cost per DALY averted vs. incremental \ncost per change in 40q30")+
labs(color="Platform")
install.packages("tinytex")
